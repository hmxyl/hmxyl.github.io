<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Hexo 搭建博客, Alisa&#39;s Home">
    <meta name="description" content="学习笔记、工作心得">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Hexo 搭建博客 | Alisa&#39;s Home</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Alisa's Home" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Alisa&#39;s Home</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Alisa&#39;s Home</div>
        <div class="logo-desc">
            
            学习笔记、工作心得
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Hexo 搭建博客</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Hexo/">
                                <span class="chip bg-color">Hexo</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Hexo/" class="post-category">
                                Hexo
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-10-25
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>[Toc]</p>
<h1>Hexo 安装和配置</h1>
<h2 id="Hexo相关软件">Hexo相关软件</h2>
<blockquote>
<p>在使用hexo命令时，请使用windows自带的命令行，管理员运行</p>
</blockquote>
<ol>
<li>
<p>安装前提</p>
<p>Hexo是基于Node.js的服务，因此首先需要下载<a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node.js</a>( Node.js 12.0 及以上版本), 以及<a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a>，再安装<a href="https://link.zhihu.com/?target=https%3A//hexo.io/zh-cn/docs/">Hexo</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>node <span class="token parameter variable">--version</span>
v16.13.0

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>git <span class="token parameter variable">--version</span>
<span class="token function">git</span> version <span class="token number">2.29</span>.2.windows.2

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>hexo <span class="token parameter variable">-v</span>
hexo-cli: <span class="token number">4.3</span>.0
os: win32 <span class="token number">10.0</span>.17763
node: <span class="token number">16.13</span>.0
v8: <span class="token number">9.4</span>.146.19-node.13
uv: <span class="token number">1.42</span>.0
zlib: <span class="token number">1.2</span>.11
brotli: <span class="token number">1.0</span>.9
ares: <span class="token number">1.17</span>.2
modules: <span class="token number">93</span>
nghttp2: <span class="token number">1.45</span>.1
napi: <span class="token number">8</span>
llhttp: <span class="token number">6.0</span>.4
openssl: <span class="token number">1.1</span>.1l+quic
cldr: <span class="token number">39.0</span>
icu: <span class="token number">69.1</span>
tz: 2021a
unicode: <span class="token number">13.0</span>
ngtcp2: <span class="token number">0.1</span>.0-DEV
nghttp3: <span class="token number">0.1</span>.0-DEV<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>安装使用hexo-cil</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="Hexo初始化博客">Hexo初始化博客</h2>
<ol>
<li>
<p>初始化</p>
<p>安装完毕hexo，此时可以选择一个空文件夹建立博客站点框架。执行下面命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo init <span class="token operator">&lt;</span>folder<span class="token operator">&gt;</span>
$ <span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>folder<span class="token operator">&gt;</span>
$ <span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>执行后Hexo将会在<code>&lt;folder&gt;</code>文件夹建立站点文件。若 <code>&lt;folder&gt;</code>为空，将在当前文件夹建立站点</p>
<p>此时，指定文件夹将会出现如下文件目录</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">.</span>
├── _config.yml
├── package.json
├── scaffolds
├── <span class="token builtin class-name">source</span>
<span class="token operator">|</span>   ├── _drafts
<span class="token operator">|</span>   └── _posts
└── themes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中，有几个文件极为重要：</p>
<ul>
<li><code>_config.yml</code> 该文件为网站配置信息，包括网站标题、作者、时间、语言、主题等重要配置和功能。</li>
<li><code>source/_posts/*.md</code><br>
<code>source</code> 文件夹为博文的资源文件夹，其中的<code>_posts</code>文件夹储存了<code>markdown</code>文件为网站博文。</li>
<li><code>themes</code> 文件夹储存了第三方主题。</li>
</ul>
</li>
<li>
<p>测试初始化结果</p>
<p>建立博文</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">$ hexo new "welcome"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此时 <code>/source/_posts</code> 文件夹中建立了 <code>welcome.md</code> 文件。接着运行</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此时命令行提示</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ <span class="token builtin class-name">.</span> Press Ctrl+C to stop.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>说明网站已成功在本地部署（ <code>http://localhost:4000/</code>），可在命令行执行Crtl+C 停止网站运行。</p>
</li>
<li>
<p>GithubPage部署</p>
<ul>
<li>
<p>在github账号下建立名为 <code>&lt;github 用户名&gt;.github.io</code>的仓库（这将是之后的访问网址），可以使用readme.md进行初始化。</p>
</li>
<li>
<p>设置ssh登录。在命令行中输入<code>$ ssh-keygen -t rsa -C "GitHub注册邮箱"</code>直接三个回车，不需要密码。这时在 <code>C:/Users/&lt;用户名&gt;/.ssh</code> 文件夹下会建立公钥 <code>id_rsa.pub</code> 文件，将其中内容全部复制。打开<code>Github Settings keys</code>页面，点击<code>new SSH key</code>，填写任意 <code>title</code> 和刚才复制的公钥信息，并<code>Add SSH key</code>，</p>
</li>
<li>
<p>此时打开Git Bash，输入<code>ssh git@github.com</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> git@github.com
PTY allocation request failed on channel <span class="token number">0</span>
Hi hmxyl<span class="token operator">!</span> You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>参考：<a target="_blank" rel="noopener" href="https://support.atlassian.com/bitbucket-cloud/docs/set-up-an-ssh-key">https://support.atlassian.com/bitbucket-cloud/docs/set-up-an-ssh-key</a></p>
<p>自定义密钥名称&lt;private_key_file&gt;（非id_rsa），后<code>ssh git@github.com</code>提示<code>permission denied</code></p>
<ul>
<li>To start the agent, run the following:</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">eval</span> <span class="token variable"><span class="token variable">$(</span>ssh-agent<span class="token variable">)</span></span> 
Agent pid <span class="token number">9700</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>Enter ssh-add followed by the path to the private key file:</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ssh-add ~/.ssh/<span class="token operator">&lt;</span>private_key_file<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>进入博客文件夹，在 <code>_config.yml</code> 文件中修改<code>deploy</code>块的信息</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> git
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>hmxyl/hmxyl.github.io.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>在博客文件夹下打开命令行，安装部署到github.io的依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>部署整个博客</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo clean
$ hexo generate
$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或者合并命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$  hexo clean <span class="token operator">&amp;&amp;</span> hexo generate <span class="token operator">&amp;&amp;</span> hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>此时主目录下出现<code>.deploy_git</code>文件夹，该文件夹与github仓库中的文件一致，为页面文件。此时访问 <code>Github用户名.github.io</code> 即可打开博客网页。</p>
<p>每次部署完，Github通常需要几分钟更新网站，此时多刷新几次网站即可</p>
</li>
</ol>
<h1>阿里云OSS开通及配置</h1>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/NFTO21/p/16285829.html">阿里云OSS+PicGo-Core搭建图床，配合Typora、Obsidian食用</a></p>
<h3 id="开通及购买服务包">开通及购买服务包</h3>
<p>登录<a target="_blank" rel="noopener" href="https://www.aliyun.com/">阿里云</a>官网，开通对象存储OSS，开通对象存储OSS不用扣费，只有使用OSS才需要扣费。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130369-127071567.png" alt="image-20220516143447765"></p>
<p>OSS有两种扣费方式（<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/48259.html">产品计费详细介绍</a>）：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.aliyun.com/price/product?spm=5176.7933691.J_5253785160.5.6a834c59NplAsJ#/oss/detail/ossbag">按量付费</a></li>
<li><a target="_blank" rel="noopener" href="https://www.aliyun.com/price/product?spm=5176.7933691.J_5253785160.5.6a834c59NplAsJ#/oss/detail/ossbag">包年包月（资源包）</a></li>
</ul>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130305-2102262967.png" alt="image-20220516144229920"></p>
<p>根据需要<a target="_blank" rel="noopener" href="https://common-buy.aliyun.com/?spm=5176.7933691.J_5253785160.2.6a834c59JnWmz4&amp;commodityCode=ossbag#/buy">按需购买</a>对应的资源包即可：（搭建个人图床，购买 40G容量5年（45元）+ 5年 的 100万接口上传次数/年（5元） ）</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130288-239354371.png" alt="image-20220516144601693"></p>
<h3 id="基础配置">基础配置</h3>
<h4 id="创建Bucket">创建Bucket</h4>
<p>打开<a target="_blank" rel="noopener" href="https://oss.console.aliyun.com/bucket">OSS管理控制台Bucket页面</a>，按需创建一个Bucket。<br>
<img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130538-1554992822.png" alt="image-20220516152551602"></p>
<p>创建Bucket成功</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130203-786734777.png" alt="image-20220516154556221"></p>
<h4 id="Bucket图片上传及访问">Bucket图片上传及访问</h4>
<p>进入新建的Bucket，在文件管理-&gt;上传文件中即可开始上传文件，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130324-816099928.png" alt="image-20220516155157249"><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130545-1477425769.png" alt="image-20220516155507591"></p>
<p>点击详情，即可看到上传图片的URL，复制URL到浏览器中访问图片。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130375-920098593.png" alt="image-20220516160202041"></p>
<h3 id="AccessKey配置">AccessKey配置</h3>
<h4 id="创建子用户和AccessKey">创建子用户和AccessKey</h4>
<p>鼠标移动到头像上即可看到<strong>AccessKey管理</strong>，打开管理页面，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130218-1943488233.png" alt="image-20220516171100691"></p>
<p><strong>推荐使用子账户创建的AccessKey</strong>（<a target="_blank" rel="noopener" href="https://ram.console.aliyun.com/users">RAM 访问控制 </a>中创建子账户）<br>
<img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130421-634915099.png" alt="image-20220516171247987"></p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130422-386866137.png" alt="image-20220516172210041"></p>
<p>选中刚才创建的子用户，即可创建<strong>AccessKey</strong>并获取<strong>AccessKey Secret</strong>。</p>
<blockquote>
<p><strong>AccessKey Secret只能查看一次哦，建议复制到自己本地存储，后面PicGo-Core配置需要使用到</strong></p>
</blockquote>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130493-1428718749.png" alt="image-20220516172517201"></p>
<h4 id="Bucket授权子用户权限">Bucket授权子用户权限</h4>
<p>进入权限管理页面，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130396-775910505.png" alt="image-20220516173811851"></p>
<p>配置子用户权限，按需勾选即可，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130449-866487166.png" alt="image-20220516174245990"></p>
<p><strong>至此，图床所需的所有配置已弄完</strong></p>
<h3 id="下载OSS-管理工具oss-browser">下载OSS 管理工具<code>oss-browser</code></h3>
<ol>
<li>
<p>下载： <a target="_blank" rel="noopener" href="https://gosspublic.alicdn.com/oss-browser/1.16.0/oss-browser-win32-x64.zip?spm=5176.8466032.help.16.50a01450Brdxse&amp;file=oss-browser-win32-x64.zip">oss-browser</a></p>
</li>
<li>
<p>登录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>AccesskeyId</td>
<td>创建RAM用户时的 AccessKey ID</td>
</tr>
<tr>
<td>AccessKeySecret</td>
<td>创建RAM用户时的 AccessKey Secret</td>
</tr>
<tr>
<td>预设OSS 路径</td>
<td><code>oss://创建的Bucket名称</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h1><a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/">PicGo</a> 安装及图床配置</h1>
<ol>
<li>
<p>安装：参考<a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/">PicGo安装</a></p>
</li>
<li>
<p>配置图床</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>设定keyId</td>
<td>创建RAM用户时的 AccessKey ID</td>
</tr>
<tr>
<td>设定KeySecret</td>
<td>创建RAM用户时的 AccessKey Secret</td>
</tr>
<tr>
<td>设定储存空间名</td>
<td>新建的Bucket名称</td>
</tr>
<tr>
<td>确定存储区域</td>
<td>创建的Bucket详情中查看：<code>地域节点</code>  中的二级域名 <code>oss-cn-城市</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>测试上传一张图片</p>
</li>
</ol>
<h1>Typora 中 上传图片配置</h1>
<p>配置： 文件-&gt; 偏好设置-&gt;图像</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20221027172837218.png" alt="image-20221027172837218"></p>
<h1>链接地址不唯一，无法依赖引用</h1>
<h2 id="原有的链接格式">原有的链接格式</h2>
<p>Hexo根目录下<code>_config.yml</code>原有的链接地址生成方式 <code>permalink: :year/:month/:day/:title/</code>, 其中title为 <code>front-matter</code>内的title，而非文件的名称。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150229481-1679222650307-8.png" alt="front-matter内的title"></p>
<h2 id="采用hexo-abbrlink实现永久唯一链接">采用hexo-abbrlink实现永久唯一链接</h2>
<ol>
<li>
<p>安装abbrlink插件</p>
<p><code>npm install hexo-abbrlink --save </code></p>
<p>安装后，<strong>hexo</strong> **会自动（保存文章时、或者hexo g时都可以）**在front-matter中自动加入<code>abbrlink</code>字段。</p>
<p><code>abbrlink</code>一旦生成，即使修改title，其内容也不会再更改了，除非将<code>abbrlink</code>字段手动删除，然后hexo会重新根据title自动生成</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150430466-1679222650306-6.png" alt="image-20230317150430466"></p>
</li>
<li>
<p>_<strong><code>config.yml</code></strong> 中修改 <code>permalink</code> 并定义 <code>abbrlink</code></p>
 <pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"># permalink: :year/:month/:day/:title/

permalink: :year:month:day/:abbrlink.html     # 将原来文章的地址修改为这个，并添加如下abbrlink
abbrlink:
  alg: crc32      #support crc16(default) and crc32
  rep: hex        #support dec(default) and hex
  drafts: false   #(true)Process draft,(false)Do not process draft. false(default) 
  # Generate categories from directory-tree
  # depth: the max_depth of directory-tree you want to generate, should &gt; 0
  auto_category:
     enable: true  #true(default)
     depth:        #3(default)
     over_write: false 
  auto_title: false #enable auto title, it can auto fill the title by path
  auto_date: true #enable auto date, it can auto fill the date by time today
  force: false #enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink. This only updates abbrlink rather than other front variables.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1>问题记录</h1>
<h2 id="运行Hexo报错hexo-无法加载文件hexo-ps1，因为在此系统上禁止运行脚本">运行Hexo报错hexo : 无法加载文件hexo.ps1，因为在此系统上禁止运行脚本</h2>
<ul>
<li>
<p>问题描述</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span><span class="token number">87897</span><span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>xavierjiezou.github.io<span class="token operator">&gt;</span> hexo s
hexo <span class="token builtin class-name">:</span> 无法加载文件 C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span><span class="token number">87897</span><span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>npm<span class="token punctuation">\</span>hexo.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID
<span class="token operator">=</span><span class="token number">135170</span> 中的 about_Execution_Policies。
所在位置 行:1 字符: <span class="token number">1</span>
+ hexo s
+ ~~~~
    + CategoryInfo          <span class="token builtin class-name">:</span> SecurityError: <span class="token punctuation">(</span>:<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>，PSSecurityException
    + FullyQualifiedErrorId <span class="token builtin class-name">:</span> UnauthorizedAccess<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>解决方案</p>
<p>设置-&gt;隐私和安全性-&gt;开发者选项-&gt;允许本地PowerShell脚本在为签名的情况下运行</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWGF2aWVyIEppZXpvdQ==,size_20,color_FFFFFF,t_70,g_se,x_16.png" alt=""></p>
</li>
<li>
<p>引用参考<br>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42951560/article/details/123678786">https://blog.csdn.net/qq_42951560/article/details/123678786</a></p>
</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Alisa</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://hmxyl.github.io/20221025/b6159bfb.html">https://hmxyl.github.io/20221025/b6159bfb.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Alisa</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Hexo/">
                                    <span class="chip bg-color">Hexo</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/20221025/f2c40356.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/12.jpg" class="responsive-img" alt="Hexo主题修改">
                        
                        <span class="card-title">Hexo主题修改</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Hexo主题使用记录
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-10-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" class="post-category">
                                    博客搭建
                                </a>
                            
                            <a href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo/" class="post-category">
                                    Hexo
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Hexo/">
                        <span class="chip bg-color">Hexo</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/20221025/ea43daec.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/5.jpg" class="responsive-img" alt="Markdown使用语法记录">
                        
                        <span class="card-title">Markdown使用语法记录</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Markdown常用语法
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-10-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Hexo/" class="post-category">
                                    Hexo
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Hexo/">
                        <span class="chip bg-color">Hexo</span>
                    </a>
                    
                    <a href="/tags/Markdown/">
                        <span class="chip bg-color">Markdown</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('5'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023-2024</span>
            
            <span id="year">2023</span>
            <a href="/about" target="_blank">Alisa</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link ">


    <a href="mailto:hmxyldh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

    
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
