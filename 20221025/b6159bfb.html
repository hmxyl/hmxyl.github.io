<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"hmxyl.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":"ture","preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="[Toc] Hexo 安装和配置 Hexo相关软件  在使用hexo命令时，请使用windows自带的命令行，管理员运行    安装前提 Hexo是基于Node.js的服务，因此首先需要下载Node.js( Node.js 12.0 及以上版本), 以及Git，再安装Hexo C:\Users\Administrator&gt;node --version v16.13.0  C:\Users\A">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo 搭建博客">
<meta property="og:url" content="https://hmxyl.github.io/20221025/b6159bfb.html">
<meta property="og:site_name" content="Alisa&#39;s Home">
<meta property="og:description" content="[Toc] Hexo 安装和配置 Hexo相关软件  在使用hexo命令时，请使用windows自带的命令行，管理员运行    安装前提 Hexo是基于Node.js的服务，因此首先需要下载Node.js( Node.js 12.0 及以上版本), 以及Git，再安装Hexo C:\Users\Administrator&gt;node --version v16.13.0  C:\Users\A">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130369-127071567.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130305-2102262967.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130288-239354371.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130538-1554992822.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130203-786734777.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130324-816099928.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130545-1477425769.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130375-920098593.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130218-1943488233.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130421-634915099.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130422-386866137.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130493-1428718749.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130396-775910505.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130449-866487166.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20221027172837218.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150229481-1679222650307-8.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150430466-1679222650306-6.png">
<meta property="og:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWGF2aWVyIEppZXpvdQ==,size_20,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="article:published_time" content="2022-10-25T11:52:44.000Z">
<meta property="article:modified_time" content="2024-09-29T09:41:34.522Z">
<meta property="article:author" content="Alisa">
<meta property="article:tag" content="博客搭建">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130369-127071567.png">


<link rel="canonical" href="https://hmxyl.github.io/20221025/b6159bfb.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://hmxyl.github.io/20221025/b6159bfb.html","path":"20221025/b6159bfb.html","title":"Hexo 搭建博客"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo 搭建博客 | Alisa's Home</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Alisa's Home" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Alisa's Home</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Alisa's Home</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">Hexo 安装和配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo%E7%9B%B8%E5%85%B3%E8%BD%AF%E4%BB%B6"><span class="nav-number">1.1.</span> <span class="nav-text">Hexo相关软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8D%9A%E5%AE%A2"><span class="nav-number">1.2.</span> <span class="nav-text">Hexo初始化博客</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo%E5%8F%91%E5%B8%83"><span class="nav-number">1.3.</span> <span class="nav-text">Hexo发布</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">阿里云OSS开通及配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E9%80%9A%E5%8F%8A%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%8C%85"><span class="nav-number">2.0.1.</span> <span class="nav-text">开通及购买服务包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">2.0.2.</span> <span class="nav-text">基础配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BABucket"><span class="nav-number">2.0.2.1.</span> <span class="nav-text">创建Bucket</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bucket%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%8F%8A%E8%AE%BF%E9%97%AE"><span class="nav-number">2.0.2.2.</span> <span class="nav-text">Bucket图片上传及访问</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AccessKey%E9%85%8D%E7%BD%AE"><span class="nav-number">2.0.3.</span> <span class="nav-text">AccessKey配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%90%E7%94%A8%E6%88%B7%E5%92%8CAccessKey"><span class="nav-number">2.0.3.1.</span> <span class="nav-text">创建子用户和AccessKey</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bucket%E6%8E%88%E6%9D%83%E5%AD%90%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90"><span class="nav-number">2.0.3.2.</span> <span class="nav-text">Bucket授权子用户权限</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BDOSS-%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7oss-browser"><span class="nav-number">2.0.4.</span> <span class="nav-text">下载OSS 管理工具oss-browser</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">3.</span> <span class="nav-text">PicGo 安装及图床配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">4.</span> <span class="nav-text">Typora 中 上传图片配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">5.</span> <span class="nav-text">链接地址不唯一，无法依赖引用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E6%9C%89%E7%9A%84%E9%93%BE%E6%8E%A5%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.1.</span> <span class="nav-text">原有的链接格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%87%E7%94%A8hexo-abbrlink%E5%AE%9E%E7%8E%B0%E6%B0%B8%E4%B9%85%E5%94%AF%E4%B8%80%E9%93%BE%E6%8E%A5"><span class="nav-number">5.2.</span> <span class="nav-text">采用hexo-abbrlink实现永久唯一链接</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">6.</span> <span class="nav-text">问题记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8CHexo%E6%8A%A5%E9%94%99hexo-%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E6%96%87%E4%BB%B6hexo-ps1%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC"><span class="nav-number">6.1.</span> <span class="nav-text">运行Hexo报错hexo : 无法加载文件hexo.ps1，因为在此系统上禁止运行脚本</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Alisa</p>
  <div class="site-description" itemprop="description">学习笔记、工作心得</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">92</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hmxyl.github.io/20221025/b6159bfb.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Alisa">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisa's Home">
      <meta itemprop="description" content="学习笔记、工作心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Hexo 搭建博客 | Alisa's Home">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Hexo 搭建博客
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-10-25 19:52:44" itemprop="dateCreated datePublished" datetime="2022-10-25T19:52:44+08:00">2022-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-29 17:41:34" itemprop="dateModified" datetime="2024-09-29T17:41:34+08:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">博客搭建</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo/" itemprop="url" rel="index"><span itemprop="name">Hexo</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>[Toc]</p>
<h1>Hexo 安装和配置</h1>
<h2 id="Hexo相关软件">Hexo相关软件</h2>
<blockquote>
<p>在使用hexo命令时，请使用windows自带的命令行，管理员运行</p>
</blockquote>
<ol>
<li>
<p>安装前提</p>
<p>Hexo是基于Node.js的服务，因此首先需要下载<a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node.js</a>( Node.js 12.0 及以上版本), 以及<a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a>，再安装<a href="https://link.zhihu.com/?target=https%3A//hexo.io/zh-cn/docs/">Hexo</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>node <span class="token parameter variable">--version</span>
v16.13.0

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>git <span class="token parameter variable">--version</span>
<span class="token function">git</span> version <span class="token number">2.29</span>.2.windows.2

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>hexo <span class="token parameter variable">-v</span>
hexo-cli: <span class="token number">4.3</span>.0
os: win32 <span class="token number">10.0</span>.17763
node: <span class="token number">16.13</span>.0
v8: <span class="token number">9.4</span>.146.19-node.13
uv: <span class="token number">1.42</span>.0
zlib: <span class="token number">1.2</span>.11
brotli: <span class="token number">1.0</span>.9
ares: <span class="token number">1.17</span>.2
modules: <span class="token number">93</span>
nghttp2: <span class="token number">1.45</span>.1
napi: <span class="token number">8</span>
llhttp: <span class="token number">6.0</span>.4
openssl: <span class="token number">1.1</span>.1l+quic
cldr: <span class="token number">39.0</span>
icu: <span class="token number">69.1</span>
tz: 2021a
unicode: <span class="token number">13.0</span>
ngtcp2: <span class="token number">0.1</span>.0-DEV
nghttp3: <span class="token number">0.1</span>.0-DEV<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>安装使用hexo-cil</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="Hexo初始化博客">Hexo初始化博客</h2>
<ol>
<li>
<p>初始化</p>
<p>安装完毕hexo，此时可以选择一个空文件夹建立博客站点框架。执行下面命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo init <span class="token operator">&lt;</span>folder<span class="token operator">&gt;</span>
$ <span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>folder<span class="token operator">&gt;</span>
$ <span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>执行后Hexo将会在<code>&lt;folder&gt;</code>文件夹建立站点文件。若 <code>&lt;folder&gt;</code>为空，将在当前文件夹建立站点</p>
<p>此时，指定文件夹将会出现如下文件目录</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">.</span>
├── _config.yml
├── package.json
├── scaffolds
├── <span class="token builtin class-name">source</span>
<span class="token operator">|</span>   ├── _drafts
<span class="token operator">|</span>   └── _posts
└── themes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中，有几个文件极为重要：</p>
<ul>
<li><code>_config.yml</code> 该文件为网站配置信息，包括网站标题、作者、时间、语言、主题等重要配置和功能。</li>
<li><code>source/_posts/*.md</code><br>
<code>source</code> 文件夹为博文的资源文件夹，其中的<code>_posts</code>文件夹储存了<code>markdown</code>文件为网站博文。</li>
<li><code>themes</code> 文件夹储存了第三方主题。</li>
</ul>
</li>
<li>
<p>测试初始化结果</p>
<p>建立博文</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">$ hexo new "welcome"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此时 <code>/source/_posts</code> 文件夹中建立了 <code>welcome.md</code> 文件。接着运行</p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此时命令行提示</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ <span class="token builtin class-name">.</span> Press Ctrl+C to stop.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>说明网站已成功在本地部署（ <code>http://localhost:4000/</code>），可在命令行执行Crtl+C 停止网站运行。</p>
</li>
<li>
<p>GithubPage部署</p>
<ul>
<li>
<p>在github账号下建立名为 <code>&lt;github 用户名&gt;.github.io</code>的仓库（这将是之后的访问网址），可以使用readme.md进行初始化。</p>
</li>
<li>
<p>设置ssh登录。在命令行中输入<code>$ ssh-keygen -t rsa -C "GitHub注册邮箱"</code>直接三个回车，不需要密码。这时在 <code>C:/Users/&lt;用户名&gt;/.ssh</code> 文件夹下会建立公钥 <code>id_rsa.pub</code> 文件，将其中内容全部复制。打开<code>Github Settings keys</code>页面，点击<code>new SSH key</code>，填写任意 <code>title</code> 和刚才复制的公钥信息，并<code>Add SSH key</code>，</p>
</li>
<li>
<p>此时打开Git Bash，输入<code>ssh git@github.com</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> git@github.com
PTY allocation request failed on channel <span class="token number">0</span>
Hi hmxyl<span class="token operator">!</span> You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>参考：<a target="_blank" rel="noopener" href="https://support.atlassian.com/bitbucket-cloud/docs/set-up-an-ssh-key">https://support.atlassian.com/bitbucket-cloud/docs/set-up-an-ssh-key</a></p>
<p>自定义密钥名称&lt;private_key_file&gt;（非id_rsa），后<code>ssh git@github.com</code>提示<code>permission denied</code></p>
<ul>
<li>To start the agent, run the following:</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">eval</span> <span class="token variable"><span class="token variable">$(</span>ssh-agent<span class="token variable">)</span></span> 
Agent pid <span class="token number">9700</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>Enter ssh-add followed by the path to the private key file:</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ssh-add ~/.ssh/<span class="token operator">&lt;</span>private_key_file<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>进入博客文件夹，在 <code>_config.yml</code> 文件中修改<code>deploy</code>块的信息</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> git
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>hmxyl/hmxyl.github.io.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>在博客文件夹下打开命令行，安装部署到github.io的依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>本地运行：在端口<code>4000</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ <span class="token builtin class-name">.</span> Press Ctrl+C to stop.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>部署整个博客到GitHub</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo clean
$ hexo generate
$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或者合并命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$  hexo clean <span class="token operator">&amp;&amp;</span> hexo generate <span class="token operator">&amp;&amp;</span> hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>此时主目录下出现<code>.deploy_git</code>文件夹，该文件夹与github仓库中的文件一致，为页面文件。此时访问 <code>Github用户名.github.io</code> 即可打开博客网页。</p>
<p>每次部署完，Github通常需要几分钟更新网站，此时多刷新几次网站即可</p>
</li>
</ol>
<h2 id="Hexo发布">Hexo发布</h2>
<ol>
<li>
<p>本地运行：在端口<code>4000</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ <span class="token builtin class-name">.</span> Press Ctrl+C to stop.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>部署整个博客到GitHub</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo clean
$ hexo generate
$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或者合并命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$  hexo clean <span class="token operator">&amp;&amp;</span> hexo generate <span class="token operator">&amp;&amp;</span> hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h1>阿里云OSS开通及配置</h1>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/NFTO21/p/16285829.html">阿里云OSS+PicGo-Core搭建图床，配合Typora、Obsidian食用</a></p>
<h3 id="开通及购买服务包">开通及购买服务包</h3>
<p>登录<a target="_blank" rel="noopener" href="https://www.aliyun.com/">阿里云</a>官网，开通对象存储OSS，开通对象存储OSS不用扣费，只有使用OSS才需要扣费。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130369-127071567.png" alt="image-20220516143447765"></p>
<p>OSS有两种扣费方式（<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/48259.html">产品计费详细介绍</a>）：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.aliyun.com/price/product?spm=5176.7933691.J_5253785160.5.6a834c59NplAsJ#/oss/detail/ossbag">按量付费</a></li>
<li><a target="_blank" rel="noopener" href="https://www.aliyun.com/price/product?spm=5176.7933691.J_5253785160.5.6a834c59NplAsJ#/oss/detail/ossbag">包年包月（资源包）</a></li>
</ul>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130305-2102262967.png" alt="image-20220516144229920"></p>
<p>根据需要<a target="_blank" rel="noopener" href="https://common-buy.aliyun.com/?spm=5176.7933691.J_5253785160.2.6a834c59JnWmz4&amp;commodityCode=ossbag#/buy">按需购买</a>对应的资源包即可：（搭建个人图床，购买 40G容量5年（45元）+ 5年 的 100万接口上传次数/年（5元） ）</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130288-239354371.png" alt="image-20220516144601693"></p>
<h3 id="基础配置">基础配置</h3>
<h4 id="创建Bucket">创建Bucket</h4>
<p>打开<a target="_blank" rel="noopener" href="https://oss.console.aliyun.com/bucket">OSS管理控制台Bucket页面</a>，按需创建一个Bucket。<br>
<img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130538-1554992822.png" alt="image-20220516152551602"></p>
<p>创建Bucket成功</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130203-786734777.png" alt="image-20220516154556221"></p>
<h4 id="Bucket图片上传及访问">Bucket图片上传及访问</h4>
<p>进入新建的Bucket，在文件管理-&gt;上传文件中即可开始上传文件，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130324-816099928.png" alt="image-20220516155157249"><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130545-1477425769.png" alt="image-20220516155507591"></p>
<p>点击详情，即可看到上传图片的URL，复制URL到浏览器中访问图片。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130375-920098593.png" alt="image-20220516160202041"></p>
<h3 id="AccessKey配置">AccessKey配置</h3>
<h4 id="创建子用户和AccessKey">创建子用户和AccessKey</h4>
<p>鼠标移动到头像上即可看到<strong>AccessKey管理</strong>，打开管理页面，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130218-1943488233.png" alt="image-20220516171100691"></p>
<p><strong>推荐使用子账户创建的AccessKey</strong>（<a target="_blank" rel="noopener" href="https://ram.console.aliyun.com/users">RAM 访问控制 </a>中创建子账户）<br>
<img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130421-634915099.png" alt="image-20220516171247987"></p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130422-386866137.png" alt="image-20220516172210041"></p>
<p>选中刚才创建的子用户，即可创建<strong>AccessKey</strong>并获取<strong>AccessKey Secret</strong>。</p>
<blockquote>
<p><strong>AccessKey Secret只能查看一次哦，建议复制到自己本地存储，后面PicGo-Core配置需要使用到</strong></p>
</blockquote>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130493-1428718749.png" alt="image-20220516172517201"></p>
<h4 id="Bucket授权子用户权限">Bucket授权子用户权限</h4>
<p>进入权限管理页面，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130396-775910505.png" alt="image-20220516173811851"></p>
<p>配置子用户权限，按需勾选即可，</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/2323423-20220518181130449-866487166.png" alt="image-20220516174245990"></p>
<p><strong>至此，图床所需的所有配置已弄完</strong></p>
<h3 id="下载OSS-管理工具oss-browser">下载OSS 管理工具<code>oss-browser</code></h3>
<ol>
<li>
<p>下载： <a target="_blank" rel="noopener" href="https://gosspublic.alicdn.com/oss-browser/1.16.0/oss-browser-win32-x64.zip?spm=5176.8466032.help.16.50a01450Brdxse&amp;file=oss-browser-win32-x64.zip">oss-browser</a></p>
</li>
<li>
<p>登录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>AccesskeyId</td>
<td>创建RAM用户时的 AccessKey ID</td>
</tr>
<tr>
<td>AccessKeySecret</td>
<td>创建RAM用户时的 AccessKey Secret</td>
</tr>
<tr>
<td>预设OSS 路径</td>
<td><code>oss://创建的Bucket名称</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h1><a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/">PicGo</a> 安装及图床配置</h1>
<ol>
<li>
<p>安装：参考<a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/">PicGo安装</a></p>
</li>
<li>
<p>配置图床</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>设定keyId</td>
<td>创建RAM用户时的 AccessKey ID</td>
</tr>
<tr>
<td>设定KeySecret</td>
<td>创建RAM用户时的 AccessKey Secret</td>
</tr>
<tr>
<td>设定储存空间名</td>
<td>新建的Bucket名称</td>
</tr>
<tr>
<td>确定存储区域</td>
<td>创建的Bucket详情中查看：<code>地域节点</code>  中的二级域名 <code>oss-cn-城市</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>测试上传一张图片</p>
</li>
</ol>
<h1>Typora 中 上传图片配置</h1>
<p>配置： 文件-&gt; 偏好设置-&gt;图像</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20221027172837218.png" alt="image-20221027172837218"></p>
<h1>链接地址不唯一，无法依赖引用</h1>
<h2 id="原有的链接格式">原有的链接格式</h2>
<p>Hexo根目录下<code>_config.yml</code>原有的链接地址生成方式 <code>permalink: :year/:month/:day/:title/</code>, 其中title为 <code>front-matter</code>内的title，而非文件的名称。</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150229481-1679222650307-8.png" alt="front-matter内的title"></p>
<h2 id="采用hexo-abbrlink实现永久唯一链接">采用hexo-abbrlink实现永久唯一链接</h2>
<ol>
<li>
<p>安装abbrlink插件</p>
<p><code>npm install hexo-abbrlink --save </code></p>
<p>安装后，<strong>hexo</strong> **会自动（保存文章时、或者hexo g时都可以）**在front-matter中自动加入<code>abbrlink</code>字段。</p>
<p><code>abbrlink</code>一旦生成，即使修改title，其内容也不会再更改了，除非将<code>abbrlink</code>字段手动删除，然后hexo会重新根据title自动生成</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/image-20230317150430466-1679222650306-6.png" alt="image-20230317150430466"></p>
</li>
<li>
<p>_<strong><code>config.yml</code></strong> 中修改 <code>permalink</code> 并定义 <code>abbrlink</code></p>
 <pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"># permalink: :year/:month/:day/:title/

permalink: :year:month:day/:abbrlink.html     # 将原来文章的地址修改为这个，并添加如下abbrlink
abbrlink:
  alg: crc32      #support crc16(default) and crc32
  rep: hex        #support dec(default) and hex
  drafts: false   #(true)Process draft,(false)Do not process draft. false(default) 
  # Generate categories from directory-tree
  # depth: the max_depth of directory-tree you want to generate, should &gt; 0
  auto_category:
     enable: true  #true(default)
     depth:        #3(default)
     over_write: false 
  auto_title: false #enable auto title, it can auto fill the title by path
  auto_date: true #enable auto date, it can auto fill the date by time today
  force: false #enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink. This only updates abbrlink rather than other front variables.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1>问题记录</h1>
<h2 id="运行Hexo报错hexo-无法加载文件hexo-ps1，因为在此系统上禁止运行脚本">运行Hexo报错hexo : 无法加载文件hexo.ps1，因为在此系统上禁止运行脚本</h2>
<ul>
<li>
<p>问题描述</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span><span class="token number">87897</span><span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>xavierjiezou.github.io<span class="token operator">&gt;</span> hexo s
hexo <span class="token builtin class-name">:</span> 无法加载文件 C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span><span class="token number">87897</span><span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>npm<span class="token punctuation">\</span>hexo.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID
<span class="token operator">=</span><span class="token number">135170</span> 中的 about_Execution_Policies。
所在位置 行:1 字符: <span class="token number">1</span>
+ hexo s
+ ~~~~
    + CategoryInfo          <span class="token builtin class-name">:</span> SecurityError: <span class="token punctuation">(</span>:<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>，PSSecurityException
    + FullyQualifiedErrorId <span class="token builtin class-name">:</span> UnauthorizedAccess<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>解决方案</p>
<p>设置-&gt;隐私和安全性-&gt;开发者选项-&gt;允许本地PowerShell脚本在为签名的情况下运行</p>
<p><img src="https://hmxyl-image.oss-cn-hangzhou.aliyuncs.com/note/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWGF2aWVyIEppZXpvdQ==,size_20,color_FFFFFF,t_70,g_se,x_16.png" alt=""></p>
</li>
<li>
<p>引用参考<br>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42951560/article/details/123678786">https://blog.csdn.net/qq_42951560/article/details/123678786</a></p>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" rel="tag"># 博客搭建</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/20221025/ea43daec.html" rel="prev" title="Markdown使用语法记录">
                  <i class="fa fa-chevron-left"></i> Markdown使用语法记录
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/20221025/f2c40356.html" rel="next" title="Hexo主题修改">
                  Hexo主题修改 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-apple"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alisa</span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
